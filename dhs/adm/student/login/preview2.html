<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dhola High School - Application Form</title>
    <link rel="icon" href="images/logo.png" sizes="32x32" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>

    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #34495e;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 950px;
            margin: 0 auto;
            background: #fff;
            padding: 40px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        /* Header & Photo Repositioning */
        .form-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 20px;
            margin-bottom: 20px;
        }

        .header-text {
            flex-grow: 1;
            text-align: center;
        }

        .photo-box {
            width: 140px;
            height: 160px;
            border: 1px solid #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #fafafa;
        }

        #nupdphoto {
            max-width: 100%;
            max-height: 100%;
        }

        /* Typography Logic */
        h3 {
            font-weight: bold;
            text-transform: uppercase;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
            margin-top: 25px;
        }

        /* List styling for Italic keys and Normal values */
        ul, ol {
            column-count: 2;
            padding-left: 20px;
        }

        li {
            margin-bottom: 8px;
            font-style: italic; /* Item name is italic */
        }

        li span, .val {
            font-style: normal; /* Item value is normal */
            display: inline-block;
            margin-left: 5px;
        }

        .top-info-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .top-info-grid div {
            font-style: italic;
        }

        /* Hide Print Button */
        @media print {
            #myPrntbtn, #loadinglay { display: none !important; }
            body { background: white; padding: 0; }
            .container { box-shadow: none; width: 100%; max-width: 100%; }
        }

        /* Loading Spinner */
        #loadinglay {
            position: fixed;
            inset: 0;
            background: white;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
        }
    </style>
</head>
<body>

<div id="loadinglay">Loading Application...</div>

<div class="container">
    <div class="form-header">
        <div class="header-text">
            <h2>Dhola High School</h2>
            <p><b>ACADEMIC YEAR:</b> <span id="nacyear" class="val"></span> | <b>APPLIED FOR:</b> <span id="nprclass" class="val"></span></p>
        </div>
        <div class="photo-box">
            <img id="nupdphoto" src="" alt="Student Photo">
        </div>
    </div>

    <div class="top-info-grid">
        <div id="nappid"><i>Application ID:</i> <span class="val"></span></div>
        <div id="ncategory"><i>Category:</i> <span class="val"></span></div>
        <div id="nadmno"><i>Admission No:</i> <span class="val"></span></div>
        <div id="nname"><i>Name:</i> <span class="val"></span></div>
        <div id="ngender"><i>Gender:</i> <span class="val"></span></div>
        <div id="nadmdate"><i>Adm. Date:</i> <span class="val"></span></div>
        <div id="ndob"><i>Date of Birth:</i> <span class="val"></span></div>
        <div id="nprsec" style="grid-column: span 2;"><i>Alloted Section/Roll:</i> <span class="val"></span></div>
    </div>

    <div id="nmeet"><i>Meet:</i> <span class="val"></span></div>

    <section>
        <h3>Personal Details</h3>
        <ol>
            <li id="ndobreg">DOB Registration No. <span class="val"></span></li>
            <li id="nmothertongue">Mother Tongue <span class="val"></span></li>
            <li id="nnationality">Nationality <span class="val"></span></li>
            <li id="nreligion">Religion <span class="val"></span></li>
            <li id="naadhaar">Aadhaar <span class="val"></span></li>
            <li id="nbloodgroup">Blood Group <span class="val"></span></li>
            <li id="nhealthid">Health ID <span class="val"></span></li>
            <li id="nidmark">Identification Mark <span class="val"></span></li>
        </ol>
    </section>

    <section>
        <h3>Academic Details</h3>
        <ol>
            <li id="npvclass">Previous Class <span class="val"></span></li>
            <li id="npvschool">Previous School <span class="val"></span></li>
            <li id="npvsec">Previous Section <span class="val"></span></li>
            <li id="npvroll">Previous Roll <span class="val"></span></li>
            <li id="npraddl">Additional Subject <span class="val"></span></li>
            <li id="nmedium">Medium <span class="val"></span></li>
        </ol>
    </section>

    <section>
        <h3>Guardian's Details</h3>
        <ul>
            <li id="nfname">Father's Name <span class="val"></span></li>
            <li id="nmname">Mother's Name <span class="val"></span></li>
            <li id="ngname">Guardian's Name <span class="val"></span></li>
            <li id="nrelationship">Relationship <span class="val"></span></li>
            <li id="naincome">Annual Income <span class="val"></span></li>
            <li id="ngqualification">Qualification <span class="val"></span></li>
        </ul>
    </section>

    <section>
        <h3>Address Details</h3>
        <div style="display: flex; gap: 40px;">
            <ul style="flex: 1; column-count: 1;">
                <p><b>Student Address</b></p>
                <li id="nvill">Village <span class="val"></span></li>
                <li id="nhabitation">Habitation <span class="val"></span></li>
                <li id="ndistrict">District <span class="val"></span></li>
                <li id="nblock">Block <span class="val"></span></li>
                <li id="npanchayat">Panchayat <span class="val"></span></li>
                <li id="npo">Post Office <span class="val"></span></li>
                <li id="nps">Police Station <span class="val"></span></li>
                <li id="npin">PIN <span class="val"></span></li>
                <li id="nphone">Phone <span class="val"></span></li>
                <li id="nemail">Email <span class="val"></span></li>
            </ul>
            <ul style="flex: 1; column-count: 1;">
                <p><b>Guardian Address</b></p>
                <li id="ngvill">Village <span class="val"></span></li>
                <li id="nghabitation">Habitation <span class="val"></span></li>
                <li id="ngdistrict">District <span class="val"></span></li>
                <li id="ngblock">Block <span class="val"></span></li>
                <li id="ngpanchayat">Panchayat <span class="val"></span></li>
                <li id="ngpo">Post Office <span class="val"></span></li>
                <li id="ngps">Police Station <span class="val"></span></li>
                <li id="ngpin">PIN <span class="val"></span></li>
                <li id="ngphone">Phone <span class="val"></span></li>
                <li id="ngemail">Email <span class="val"></span></li>
            </ul>
        </div>
    </section>

    <section>
        <h3>Other Details</h3>
        <ul style="list-style-type: square;">
            <li id="nbplstatus">BPL Status <span class="val"></span></li>
            <li id="nbplno">BPL No. <span class="val"></span></li>
            <li id="ncwsn">Special Need <span class="val"></span></li>
            <li id="ncwsntyp">Disability Type <span class="val"></span></li>
            <li id="nbname">Bank Name <span class="val"></span></li>
            <li id="nbcode">Branch Code <span class="val"></span></li>
            <li id="nbifsc">IFSC <span class="val"></span></li>
            <li id="nacno">Account Number <span class="val"></span></li>
        </ul>
    </section>
</div>

<input style="position:fixed; bottom:20px; right:20px; padding: 10px 20px; cursor: pointer;" id ="myPrntbtn" type="button" value="Print Form" onclick="window.print();" >

<script>
    // Logic to hide loading once data is potentially fetched
    window.onload = function() {
        setTimeout(() => {
            document.getElementById('loadinglay').style.display = 'none';
        }, 1000);
    };
</script>
<script src="https://www.gstatic.com/firebasejs/5.5.9/firebase.js"></script>
<script src="js/preview.js"></script>
</body>
</html>
